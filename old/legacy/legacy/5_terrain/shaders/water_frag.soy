#version 330 core
out vec4 fragCol;
in vec3 outPos;
in vec3 outModel;
in vec2 outUV;
in vec3 outNormal;
flat in int outSelected;
flat in uint outType;

uniform float worldTime;

uniform int debugCol;
uniform int debugRender;

const vec3 COLS[4] = vec3[4](
  vec3(1.0, 1.0, 1.0),
  vec3(1.0, 0.0, 0.0),
  vec3(0.0, 1.0, 0.0),
  vec3(0.0, 0.0, 1.0)
);

void main() {
  float t = worldTime*0.1;
  float light = dot(normalize(vec3(0.0, sin(t), cos(t))), normalize(outNormal));
  vec3 col = vec3(0.02, 0.1, 0.3);
  if(debugRender == 0) {
    if(debugCol == 0) {
      col *= light;
    }
    if(outSelected != 0) {
      col *= 2.0;
    }  
    fragCol = vec4(col, 0.7);
  } else {
    fragCol = vec4(outNormal + 0.5, 0.7);
  }
};

