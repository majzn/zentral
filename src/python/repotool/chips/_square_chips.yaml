name: group_betting_field_square_chips
type: group

transform:
  anchor: ANCHOR_TOP_LEFT
  position: [$G_BF_X, $G_BF_Y]

component: true
component-name: chip_coloring
component-properties:
  value_state: "bet_key_value"
  color_state: "state_chip_color"
  multipliers_values: "button_x_value"
  size_of_keys: "192"
  max_num_of_multipliers: "9"
  search_scope_first: "true"
  plugin_update_callback: "callback_cc_square_0"
  plugin_refresh_callback: "callback_refresh_square_0"
  ignore_grey_chips: "true"
  rectangles_enabled: "true" # if using rectangles
  num_field_max_size: "200" # max size of the rectangle
  min_rectangle_threshold: "160" # min text size.x for rectangle to show
  rectangle_height: "80" # height got overran
  rectangle_padding: "20" # padding for text (only works on x, not on y)
  chip_selected_property: "not_used"
  use_custom_chip_graphics: "true"

stateful-transitions:
  - condition: betting_field_square_visible == 1
    update-on-start: true
    scenario-in: ani_show
    scenario-out: ani_hide

animations:
  - name: ani_show
    animation-fps: 60
    tracks:
      - track-set-value: group_betting_field_square_chips HIDDEN 0 0
      - track-call-callback: ani_hide ANIMATION_STOP

  - name: ani_hide
    animation-fps: 60
    tracks:
      - track-set-value: group_betting_field_square_chips HIDDEN 0 1
      - track-call-callback: ani_show ANIMATION_STOP

children:
  - name: group_chips
    type: group
    width: 1650
    height: 670
    transform:
      anchor: ANCHOR_TOP_LEFT
      position: [0, 0]

    children:
      - type: iterator
        start: 0
        end: 192
        index-name: j
        constants:
          is_square: (1 == 1)
          sm_prop: bet_key_positions
        template:
          - type: iterator # only to translate j to key
            start: 0
            end: 1
            index-name: i_const
            constants:
              key: $j
            template:
              - !include: _chip.yaml
              - !include: _chip_vertical.yaml

    #- !include: _jackpot_marker.yaml
